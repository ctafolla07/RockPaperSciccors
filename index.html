<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <div id="scores"></div>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div id="container"></div>

    <script>
        let compSelection;
        let playerSelection;
        let wins = 0;
        let losses = 0;
        let draws = 0;
    
        // randomizes rock paper or scissors for computer
        function getComputerChoice() {
            switch(Math.floor(Math.random() * 3)) {
                case 0: return 'rock';
                break;
                case 1: return 'paper';
                break;
                case 2: return 'scissors';
                break;
            }
        }
        // plays one round of RPS and logs results
        function oneGame(playerSelection, compSelection) {
            playerSelection = playerSelection.toLowerCase();
            compSelection = getComputerChoice();
            if (wins == 5 || losses == 5) {
                wins = 0;
                losses = 0;
                draws = 0;
            }
            if (playerSelection === compSelection){
                draws++;
                div.textContent = "It's a draw!";
                score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
            }
            else if (playerSelection === 'rock' && compSelection === 'scissors' || playerSelection === 'paper' && compSelection === 'rock' || playerSelection === 'scissors' && compSelection === 'paper') {
                wins++;
                if (wins == 5) {
                    div.textContent = 'You Win!'
                    score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
                }
                else {        
                div.textContent = "you win! " + playerSelection + " beats " + compSelection;
                score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
                }
            }
            else {
                losses++;
                if (losses == 5) {
                    div.textContent = 'You Lose!'
                    score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
                } 
                else {
                    div.textContent = "you lose! " + compSelection + " beats " + playerSelection;
                    score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
                }
            }
        }
        //plays 5 rounds of RPS, logging results after each round
        /*function game() {
            wins = 0;
            losses = 0;
            draws = 0;
    
            for (let i = 0;i<5; i++) {
                let playerSelection = prompt("choose your weapon:");
                oneGame(playerSelection, compSelection);
            }
            return wins +' wins ' + losses + ' losses ' + draws + ' draws ';
        } */
        

    
        let rockbtn = document.querySelector('#rock');
        rockbtn.addEventListener('click', () => { oneGame('rock');});
        
        let papebtn = document.querySelector('#paper');
        papebtn.addEventListener('click', () => { oneGame('paper');});

        let scisbtn = document.querySelector('#scissors');
        scisbtn.addEventListener('click', () => { oneGame('scissors');});

        const div = document.createElement('div');
        container.appendChild(div);

        const score = document.createElement('div');
        score.textContent = "wins: "+ wins + " losses: " + losses + " draws: " + draws;
        scores.appendChild(score);

        </script>
</body>

</html>